package A3_EXAM;

import A3_EXAM.model.database.FoodAndNutritionDb;
import A3_EXAM.model.api.edamam.FoodDatabaseActualApi;
import A3_EXAM.model.api.edamam.FoodDatabaseDummyApi;
import A3_EXAM.model.api.imgur.ImgurActualApi;
import A3_EXAM.model.api.imgur.ImgurDummyApi;
import A3_EXAM.model.commands.*;
import A3_EXAM.model.dataobject.FoodItemData;
import A3_EXAM.model.dataobject.FoodItemDataImpl;
import A3_EXAM.model.dataobject.FoodItemNutrientData;
import A3_EXAM.model.facade.ModelFacade;
import A3_EXAM.model.facade.ModelFacadeImpl;
import A3_EXAM.model.parsers.JSONParser;
import A3_EXAM.model.parsers.JSONParserImpl;
import A3_EXAM.model.parsers.ReportParser;
import A3_EXAM.model.parsers.ReportParserImpl;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mock;
import org.mockito.junit.MockitoJUnitRunner;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.*;
import static org.mockito.ArgumentMatchers.anyString;
import static org.mockito.Mockito.lenient;

@RunWith(MockitoJUnitRunner.class)
public class TestCommandQueriesForCachingAndFetchingFromDb {

    private ModelFacade model;
    private JSONParser jsonParser;
    private ReportParser reportParserImpl;
    private List<FoodItemData> fidList;
    private FoodItemData foodItem;
    private Command foodItemSearchQuery;
    private Command fetchCacheFoodItemSearchQuery;
    private Command foodNutrientDataQuery;
    private Command fetchCachedFoodNutrientDataBySelectionQuery;
    private Command fetchCachedFoodNutrientDataBySearchQuery;
    private Command uploadReportToImgurQuery;
    private StringBuilder sb;

    @Mock private FoodAndNutritionDb db;
    @Mock private FoodDatabaseActualApi foodApi;
    @Mock private FoodDatabaseDummyApi foodDummyApi;
    @Mock private ImgurActualApi imgurApi;
    @Mock private ImgurDummyApi imgurDummyApi;


    @Before
    public void setup() {
        jsonParser = new JSONParserImpl();
        reportParserImpl = new ReportParserImpl();
        model = new ModelFacadeImpl(foodApi, imgurApi, db, jsonParser, reportParserImpl);
        fidList = new ArrayList<>();
        foodItem = new FoodItemDataImpl();
        sb = new StringBuilder();
    }

    @Test
    public void testCacheAndFetchFoodItemsUponSearch() {
        lenient().when(foodApi.foodSearchRequest("cheddar")).thenReturn("{\"text\":\"cheddar\",\"parsed\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"}}],\"hints\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar Cheese\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"White Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_ajpi0fwb4k3ts5byqqs5bbc26e50\",\"label\":\"Nonfat Cheddar\",\"nutrients\":{\"ENERC_KCAL\":157,\"PROCNT\":32.14,\"FAT\":0,\"CHOCDF\":7.14,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/af9/af9f273ec7947c369d59ba2a2605c308.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a2b3q33bnje4iual2pba2at89tzi\",\"label\":\"Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_abhon7xahil71obsn90uyaz0lpgz\",\"label\":\"Cheddar Cheese Crunchies, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":607,\"PROCNT\":3.569999933242798,\"FAT\":46.43000030517578,\"CHOCDF\":46.43000030517578,\"FIBTG\":0},\"brand\":\"Crunchies\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CORN MEAL; VEGETABLE OIL (CONTAINS ONE OR MORE OF THE FOLLOWING: CORN OIL; COTTONSEED OIL; CANOLA OIL; AND/OR SUNFLOWER OIL); WHEY; MALTODEXTRIN; CHEESE [SEMISOFT AND CHEDDAR (PASTEURIZED MILK; CHEESE CULTURE; SALT; ENZYMES)]; SALT; MILKFAT; WHEY PROTEIN CONCENTRATE; BUTTERMILK SOLIDS; NATURAL FLAVOR; SODIUM PHOSPHATE; LACTIC ACID; YELLOW 6; AUTOLYZED YEAST EXTRACT; YELLOW 5; DISODIUM INOSINATE; DISODIUM GUANYLATE; ARTIFICIAL FLAVOR.\",\"image\":\"https://www.edamam.com/food-img/b40/b4002f66dfca857b0f5ddbf651e06222.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_curl\",\"label\":\"Curl\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_amcrzhtbg40i7zblkm02ias4oy40\",\"label\":\"Sharp Cheddar\",\"nutrients\":{\"ENERC_KCAL\":410,\"PROCNT\":24.25,\"FAT\":33.82,\"CHOCDF\":2.13,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/c10/c104a43cc771440bb5a915f6ceed9be3.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\"}]},{\"food\":{\"foodId\":\"food_ak5zq1kbxhob25bsqpc1ta89eswy\",\"label\":\"Vegan Cheddar\",\"nutrients\":{\"ENERC_KCAL\":321.4286,\"PROCNT\":3.5713999999999997,\"FAT\":21.428600000000003,\"CHOCDF\":25,\"FIBTG\":3.5713999999999997},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_container\",\"label\":\"Container\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b8tsfjybuuhyo3b4kajqva9q12dz\",\"label\":\"Cheddar Biscuits\",\"nutrients\":{\"ENERC_KCAL\":298.34983105301063,\"PROCNT\":8.968740338943247,\"FAT\":16.146075631472215,\"CHOCDF\":29.42229600093984,\"FIBTG\":0.9979079010407335},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"flour; baking powder; sugar; cayenne; cheddar cheese; butter; buttermilk; salt\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bxgs4p6bqqemk5b7clr8paiw3r7x\",\"label\":\"Cheddar Cookies\",\"nutrients\":{\"ENERC_KCAL\":436.9131960455334,\"PROCNT\":11.629819028915474,\"FAT\":31.400016307913983,\"CHOCDF\":27.187488082040563,\"FIBTG\":0.9986399672326961},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"self-rising flour; butter; Cheddar cheese; red pepper; ice water; pecan\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bkjsxvdbsu1ygpa7c78csb4fj2fa\",\"label\":\"Cheddar Spread\",\"nutrients\":{\"ENERC_KCAL\":314.9830203565031,\"PROCNT\":9.03189951580022,\"FAT\":29.716015112125092,\"CHOCDF\":3.633335816964652,\"FIBTG\":0.41032712305724817},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cream cheese; cheddar cheese; mayonnaise; mustard; red bell pepper; sweet onion\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bjtguijb5n21e6bucljhxbfuo3wg\",\"label\":\"Cheddar Crackers\",\"nutrients\":{\"ENERC_KCAL\":395.57250286738537,\"PROCNT\":15.096259753870836,\"FAT\":27.36521651538581,\"CHOCDF\":22.167123391385584,\"FIBTG\":0.7713608338962956},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"sharp Cheddar; all-purpose flour; butter; kosher salt; salt; cayenne; ice water\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_asqzialbju6v6dazrmxvyalop7pa\",\"label\":\"Cheddar Bruschetta\",\"nutrients\":{\"ENERC_KCAL\":247.03607798222242,\"PROCNT\":8.439916340910788,\"FAT\":14.710408585016058,\"CHOCDF\":20.582613350596322,\"FIBTG\":1.3677962303612776},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"french bread; tomatoes; cheddar cheese; mayonnaise; parmesan cheese; dried oregano; dried basil; pepper\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_avl5oq8a3psd3wa3u9notbsicrml\",\"label\":\"Cheddar Chowder\",\"nutrients\":{\"ENERC_KCAL\":118.3694828226613,\"PROCNT\":5.665701714339422,\"FAT\":7.6329627718760555,\"CHOCDF\":6.8670086402665,\"FIBTG\":0.6967330144577208},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"water; potatoes; carrots; celery; onion; salt; pepper; ham; butter; flour; milk; Cheddar cheese\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ax0a73jbwqn9t7bkefta2bifggxa\",\"label\":\"Cheddar Gougères\",\"nutrients\":{\"ENERC_KCAL\":254.4115086338935,\"PROCNT\":8.37387622351497,\"FAT\":19.00069780891183,\"CHOCDF\":12.454606494987326,\"FIBTG\":0.4271856286048142},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"unsalted butter; water; kosher salt; all-purpose flour; eggs; Cheddar\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ai31vlga7lgcz2baorzfza1sdlq7\",\"label\":\"Cheddar Pennies\",\"nutrients\":{\"ENERC_KCAL\":465.88118544252757,\"PROCNT\":14.582087597068988,\"FAT\":36.132864984192395,\"CHOCDF\":21.006751314031238,\"FIBTG\":0.7257834871410384},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cheddar cheese; butter; pepper sauce; salt; fresh dill; all purpose flour\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_azs2essb6x57jjbegcwq0a9fwzpo\",\"label\":\"Cheddar Chicken\",\"nutrients\":{\"ENERC_KCAL\":255.1901908286257,\"PROCNT\":19.233596419203774,\"FAT\":15.219817348514665,\"CHOCDF\":9.5674704304335,\"FIBTG\":0.4170523864126416},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"crackers; sharp cheddar; garlic; Kosher salt; black pepper; boneless, skinless chicken breasts; unsalted butter\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a5vi7ruau8zqkibqub1kvbtiq0u8\",\"label\":\"Cheddar Soup\",\"nutrients\":{\"ENERC_KCAL\":88.74095081691797,\"PROCNT\":4.500792572676424,\"FAT\":5.173119283149567,\"CHOCDF\":6.034730474918935,\"FIBTG\":0.607117305097188},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"celery; carrots; Granny Smith apple; olive oil; chicken broth; baking potato; Cheddar; Worcestershire sauce\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bc2r38aab0ltnaa0gqzpfb61eqnq\",\"label\":\"Extra Sharp Cheddar Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":409,\"PROCNT\":27.270000457763672,\"FAT\":36.36000061035156,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"Extra\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CHEDDAR CHEESE (CULTURED PASTEURIZED MILK; SALT; ENZYMES; COLOR ADDED).\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b21zw8daqivlj6aujaurnayrtmme\",\"label\":\"Alouette Wasabi Cheddar Wasabi Cheddar\",\"nutrients\":{\"ENERC_KCAL\":304.3478260869565,\"PROCNT\":8.695652173913043,\"FAT\":30.43478260869565,\"CHOCDF\":4.3478260869565215,\"FIBTG\":0},\"brand\":\"Alouette\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTEURIZED MILK AND CREAM; CHEDDAR CHEESE (PASTEURIZED MILK; CULTURES; SALT; ENZYMES); CHEDDAR NATURAL FLAVOR; SALT; WASABI (JAPANESE HORSERADISH) NATURAL FLAVOR; STABILIZERS (CAROB BEAN AND/OR GUAR GUMS); AUTOLYZED YEAST EXTRACT; VEGETABLE JUICE AND TURMERIC (FOR COLOR); SORBIC ACID (TO MAINTAIN FRESHNESS).\",\"image\":\"https://www.edamam.com/food-img/e99/e99c1c9a388398eda590357695929683.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\",\"label\":\"Tablespoon\"}]},{\"food\":{\"foodId\":\"food_asi8z8abh3h711bezmwjfbftzxvb\",\"label\":\"Farmhouse White Cheddar Pasta Cheddar\",\"nutrients\":{\"ENERC_KCAL\":366.8492042756363,\"PROCNT\":14.109584779832165,\"FAT\":4.2328754339496495,\"CHOCDF\":67.72600694319439,\"FIBTG\":2.821916955966433},\"brand\":\"Farmhouse\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTA(DURUM WHEAT SEMOLINA); WHEY; SALT; SUGAR; BUTTERMILK; NONFAT MILK; CORN STARCH; CHEDDAR CHEESE(CULTURED MILK; SALT; ENZYMES); CREAM; NATURAL FLAVOR; MALTODEXTRIN; YEAST EXTRACT; CITRIC ACID; DISODIUM PHOSPHATE; LACTIC ACID; CALCIUM LACTATE; CHICKEN FAT.\",\"image\":\"https://www.edamam.com/food-img/963/9633e24decdc42ed674fdc787623b492.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b3h8qbxa0dhdulauno2yaab7l5vh\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":411.5295397257234,\"PROCNT\":29.394967123265957,\"FAT\":35.273960547919145,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"HoneyBaked Ham\",\"category\":\"Fast foods\",\"categoryLabel\":\"meal\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]}],\"_links\":{\"next\":{\"title\":\"Next page\",\"href\":\"https://api.edamam.com/api/food-database/parser?session=44&app_id=5c8fcc57&app_key=8f2e80cbb28dfcb8ed8b9411d42426eb&ingr=cheddar\"}}}");
        fidList = model.getFoodItemDataObjects(model.foodSearchRequest("cheddar"));
        sb.append("cheddar");
        foodItemSearchQuery = new FoodItemSearchQuery(model, sb);
        foodItemSearchQuery.execute();
        lenient().when(db.fetchMatchingFoodItemResults("cheddar")).thenReturn(fidList);
        model.getFoodItems().clear();
        sb.delete(0, sb.length());
        sb.append("cheddar");
        fetchCacheFoodItemSearchQuery = new FetchCachedFoodItemsQuery(model, sb);
        fetchCacheFoodItemSearchQuery.execute();
        assertEquals(model.getFoodItems(), fidList);
    }

    @Test
    public void testCacheAndFetchNutrientDataBySelectionFromMatchingItems() {
        model = new ModelFacadeImpl(foodDummyApi, imgurDummyApi, db, jsonParser, reportParserImpl);
        lenient().when(foodDummyApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("{\"uri\":\"http://www.edamam" +
                ".com/ontologies/edamam.owl#9f31eef6-10f2-42ce-9c77-d536956be15e\",\"calories\":113,\"totalWeight\":28,\"dietLabels\":[],\"healthLabels\":[\"KETO_FRIENDLY\",\"VEGETARIAN\",\"PESCATARIAN\",\"SPECIFIC_CARBS\",\"GLUTEN_FREE\",\"WHEAT_FREE\",\"EGG_FREE\",\"PEANUT_FREE\",\"TREE_NUT_FREE\",\"SOY_FREE\",\"FISH_FREE\",\"SHELLFISH_FREE\",\"PORK_FREE\",\"RED_MEAT_FREE\",\"CRUSTACEAN_FREE\",\"CELERY_FREE\",\"MUSTARD_FREE\",\"SESAME_FREE\",\"LUPINE_FREE\",\"MOLLUSK_FREE\",\"ALCOHOL_FREE\",\"NO_OIL_ADDED\",\"NO_SUGAR_ADDED\",\"KOSHER\"],\"cautions\":[\"SULFITES\"],\"totalNutrients\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":113.68,\"unit\":\"kcal\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":9.469600000000002,\"unit\":\"g\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":5.42304,\"unit\":\"g\"},\"FATRN\":{\"label\":\"Trans\",\"quantity\":0.33012,\"unit\":\"g\"},\"FAMS\":{\"label\":\"Monounsaturated\",\"quantity\":2.3598400000000006,\"unit\":\"g\"},\"FAPU\":{\"label\":\"Polyunsaturated\",\"quantity\":0.40124000000000004,\"unit\":\"g\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.37240000000000006,\"unit\":\"g\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"g\"},\"SUGAR\":{\"label\":\"Sugars\",\"quantity\":0.07840000000000001,\"unit\":\"g\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":6.7312,\"unit\":\"g\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":28.560000000000002,\"unit\":\"mg\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":180.32000000000002,\"unit\":\"mg\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":189.00000000000003,\"unit\":\"mg\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":7.5600000000000005,\"unit\":\"mg\"},\"K\":{\"label\":\"Potassium\",\"quantity\":21.28,\"unit\":\"mg\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.044800000000000006,\"unit\":\"mg\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":0.9604000000000001,\"unit\":\"mg\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":132.44000000000003,\"unit\":\"mg\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":73.64,\"unit\":\"µg\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"mg\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.007560000000000001,\"unit\":\"mg\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":0.12152000000000002,\"unit\":\"mg\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.010920000000000001,\"unit\":\"mg\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":0.013720000000000001,\"unit\":\"mg\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLFD\":{\"label\":\"Folate (food)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLAC\":{\"label\":\"Folic acid\",\"quantity\":0,\"unit\":\"µg\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":0.24640000000000004,\"unit\":\"µg\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":0.168,\"unit\":\"µg\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":0.21840000000000004,\"unit\":\"mg\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.812,\"unit\":\"µg\"},\"WATER\":{\"label\":\"Water\",\"quantity\":10.388000000000002,\"unit\":\"g\"}},\"totalDaily\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":5.684,\"unit\":\"%\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":14.568615384615386,\"unit\":\"%\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":27.115200000000005,\"unit\":\"%\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.12413333333333336,\"unit\":\"%\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"%\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":13.4624,\"unit\":\"%\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":9.52,\"unit\":\"%\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":7.5133333333333345,\"unit\":\"%\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":18.900000000000002,\"unit\":\"%\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":1.8,\"unit\":\"%\"},\"K\":{\"label\":\"Potassium\",\"quantity\":0.45276595744680853,\"unit\":\"%\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.2488888888888889,\"unit\":\"%\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":8.730909090909092,\"unit\":\"%\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":18.92,\"unit\":\"%\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":8.182222222222222,\"unit\":\"%\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"%\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.6300000000000001,\"unit\":\"%\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":9.347692307692308,\"unit\":\"%\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.06825,\"unit\":\"%\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":1.0553846153846154,\"unit\":\"%\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":1.8200000000000003,\"unit\":\"%\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":10.26666666666667,\"unit\":\"%\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":1.12,\"unit\":\"%\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":1.4560000000000002,\"unit\":\"%\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.6766666666666666,\"unit\":\"%\"}},\"ingredients\":[{\"parsed\":[{\"quantity\":1,\"measure\":\"whole\",\"food\":\"cheddar cheese\",\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"weight\":28,\"retainedWeight\":28,\"servingsPerContainer\":7.071428571428571,\"measureURI\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"status\":\"OK\"}]}]}");
        FoodItemNutrientData nutrientData = model.getFoodItemNutrientData(model.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376"));
        foodItem.setFoodId("food_bhppgmha1u27voagb8eptbp9g376");
        foodItem.setMeasureUri("http://www.edamam.com/ontologies/edamam.owl#Measure_unit");
        foodNutrientDataQuery = new FoodItemNutrientSearchQuery(model, sb, foodItem);
        foodNutrientDataQuery.execute();
        lenient().when(db.fetchSelectedItemNutrientData(foodItem.getFoodId(), foodItem.getFoodLabel())).thenReturn(nutrientData);
        FoodItemNutrientData fd = model.fetchFoodItemNutrientDataBySelection(foodItem.getFoodId(), foodItem.getFoodLabel());
        assertEquals(nutrientData, fd);
        fetchCachedFoodNutrientDataBySelectionQuery = new FetchCachedFoodNutrientDataBySelectionQuery(model, sb, foodItem);
        fetchCachedFoodNutrientDataBySelectionQuery.execute();
        lenient().when(foodDummyApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit",
                "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("error!");
        lenient().when(imgurApi.uploadNutritionReportToImgur(anyString())).thenReturn("not an imgur link!");
        fetchCachedFoodNutrientDataBySelectionQuery = new FetchCachedFoodNutrientDataBySelectionQuery(model, sb, foodItem);
        fetchCachedFoodNutrientDataBySelectionQuery.execute();
    }

    @Test
    public void testCacheAndFetchNutrientDataBySearch() {
        lenient().when(foodApi.foodSearchRequest("cheddar")).thenReturn("{\"text\":\"cheddar\",\"parsed\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"}}],\"hints\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar Cheese\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"White Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_ajpi0fwb4k3ts5byqqs5bbc26e50\",\"label\":\"Nonfat Cheddar\",\"nutrients\":{\"ENERC_KCAL\":157,\"PROCNT\":32.14,\"FAT\":0,\"CHOCDF\":7.14,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/af9/af9f273ec7947c369d59ba2a2605c308.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a2b3q33bnje4iual2pba2at89tzi\",\"label\":\"Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_abhon7xahil71obsn90uyaz0lpgz\",\"label\":\"Cheddar Cheese Crunchies, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":607,\"PROCNT\":3.569999933242798,\"FAT\":46.43000030517578,\"CHOCDF\":46.43000030517578,\"FIBTG\":0},\"brand\":\"Crunchies\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CORN MEAL; VEGETABLE OIL (CONTAINS ONE OR MORE OF THE FOLLOWING: CORN OIL; COTTONSEED OIL; CANOLA OIL; AND/OR SUNFLOWER OIL); WHEY; MALTODEXTRIN; CHEESE [SEMISOFT AND CHEDDAR (PASTEURIZED MILK; CHEESE CULTURE; SALT; ENZYMES)]; SALT; MILKFAT; WHEY PROTEIN CONCENTRATE; BUTTERMILK SOLIDS; NATURAL FLAVOR; SODIUM PHOSPHATE; LACTIC ACID; YELLOW 6; AUTOLYZED YEAST EXTRACT; YELLOW 5; DISODIUM INOSINATE; DISODIUM GUANYLATE; ARTIFICIAL FLAVOR.\",\"image\":\"https://www.edamam.com/food-img/b40/b4002f66dfca857b0f5ddbf651e06222.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_curl\",\"label\":\"Curl\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_amcrzhtbg40i7zblkm02ias4oy40\",\"label\":\"Sharp Cheddar\",\"nutrients\":{\"ENERC_KCAL\":410,\"PROCNT\":24.25,\"FAT\":33.82,\"CHOCDF\":2.13,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/c10/c104a43cc771440bb5a915f6ceed9be3.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\"}]},{\"food\":{\"foodId\":\"food_ak5zq1kbxhob25bsqpc1ta89eswy\",\"label\":\"Vegan Cheddar\",\"nutrients\":{\"ENERC_KCAL\":321.4286,\"PROCNT\":3.5713999999999997,\"FAT\":21.428600000000003,\"CHOCDF\":25,\"FIBTG\":3.5713999999999997},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_container\",\"label\":\"Container\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b8tsfjybuuhyo3b4kajqva9q12dz\",\"label\":\"Cheddar Biscuits\",\"nutrients\":{\"ENERC_KCAL\":298.34983105301063,\"PROCNT\":8.968740338943247,\"FAT\":16.146075631472215,\"CHOCDF\":29.42229600093984,\"FIBTG\":0.9979079010407335},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"flour; baking powder; sugar; cayenne; cheddar cheese; butter; buttermilk; salt\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bxgs4p6bqqemk5b7clr8paiw3r7x\",\"label\":\"Cheddar Cookies\",\"nutrients\":{\"ENERC_KCAL\":436.9131960455334,\"PROCNT\":11.629819028915474,\"FAT\":31.400016307913983,\"CHOCDF\":27.187488082040563,\"FIBTG\":0.9986399672326961},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"self-rising flour; butter; Cheddar cheese; red pepper; ice water; pecan\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bkjsxvdbsu1ygpa7c78csb4fj2fa\",\"label\":\"Cheddar Spread\",\"nutrients\":{\"ENERC_KCAL\":314.9830203565031,\"PROCNT\":9.03189951580022,\"FAT\":29.716015112125092,\"CHOCDF\":3.633335816964652,\"FIBTG\":0.41032712305724817},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cream cheese; cheddar cheese; mayonnaise; mustard; red bell pepper; sweet onion\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bjtguijb5n21e6bucljhxbfuo3wg\",\"label\":\"Cheddar Crackers\",\"nutrients\":{\"ENERC_KCAL\":395.57250286738537,\"PROCNT\":15.096259753870836,\"FAT\":27.36521651538581,\"CHOCDF\":22.167123391385584,\"FIBTG\":0.7713608338962956},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"sharp Cheddar; all-purpose flour; butter; kosher salt; salt; cayenne; ice water\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_asqzialbju6v6dazrmxvyalop7pa\",\"label\":\"Cheddar Bruschetta\",\"nutrients\":{\"ENERC_KCAL\":247.03607798222242,\"PROCNT\":8.439916340910788,\"FAT\":14.710408585016058,\"CHOCDF\":20.582613350596322,\"FIBTG\":1.3677962303612776},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"french bread; tomatoes; cheddar cheese; mayonnaise; parmesan cheese; dried oregano; dried basil; pepper\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_avl5oq8a3psd3wa3u9notbsicrml\",\"label\":\"Cheddar Chowder\",\"nutrients\":{\"ENERC_KCAL\":118.3694828226613,\"PROCNT\":5.665701714339422,\"FAT\":7.6329627718760555,\"CHOCDF\":6.8670086402665,\"FIBTG\":0.6967330144577208},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"water; potatoes; carrots; celery; onion; salt; pepper; ham; butter; flour; milk; Cheddar cheese\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ax0a73jbwqn9t7bkefta2bifggxa\",\"label\":\"Cheddar Gougères\",\"nutrients\":{\"ENERC_KCAL\":254.4115086338935,\"PROCNT\":8.37387622351497,\"FAT\":19.00069780891183,\"CHOCDF\":12.454606494987326,\"FIBTG\":0.4271856286048142},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"unsalted butter; water; kosher salt; all-purpose flour; eggs; Cheddar\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ai31vlga7lgcz2baorzfza1sdlq7\",\"label\":\"Cheddar Pennies\",\"nutrients\":{\"ENERC_KCAL\":465.88118544252757,\"PROCNT\":14.582087597068988,\"FAT\":36.132864984192395,\"CHOCDF\":21.006751314031238,\"FIBTG\":0.7257834871410384},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cheddar cheese; butter; pepper sauce; salt; fresh dill; all purpose flour\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_azs2essb6x57jjbegcwq0a9fwzpo\",\"label\":\"Cheddar Chicken\",\"nutrients\":{\"ENERC_KCAL\":255.1901908286257,\"PROCNT\":19.233596419203774,\"FAT\":15.219817348514665,\"CHOCDF\":9.5674704304335,\"FIBTG\":0.4170523864126416},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"crackers; sharp cheddar; garlic; Kosher salt; black pepper; boneless, skinless chicken breasts; unsalted butter\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a5vi7ruau8zqkibqub1kvbtiq0u8\",\"label\":\"Cheddar Soup\",\"nutrients\":{\"ENERC_KCAL\":88.74095081691797,\"PROCNT\":4.500792572676424,\"FAT\":5.173119283149567,\"CHOCDF\":6.034730474918935,\"FIBTG\":0.607117305097188},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"celery; carrots; Granny Smith apple; olive oil; chicken broth; baking potato; Cheddar; Worcestershire sauce\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bc2r38aab0ltnaa0gqzpfb61eqnq\",\"label\":\"Extra Sharp Cheddar Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":409,\"PROCNT\":27.270000457763672,\"FAT\":36.36000061035156,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"Extra\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CHEDDAR CHEESE (CULTURED PASTEURIZED MILK; SALT; ENZYMES; COLOR ADDED).\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b21zw8daqivlj6aujaurnayrtmme\",\"label\":\"Alouette Wasabi Cheddar Wasabi Cheddar\",\"nutrients\":{\"ENERC_KCAL\":304.3478260869565,\"PROCNT\":8.695652173913043,\"FAT\":30.43478260869565,\"CHOCDF\":4.3478260869565215,\"FIBTG\":0},\"brand\":\"Alouette\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTEURIZED MILK AND CREAM; CHEDDAR CHEESE (PASTEURIZED MILK; CULTURES; SALT; ENZYMES); CHEDDAR NATURAL FLAVOR; SALT; WASABI (JAPANESE HORSERADISH) NATURAL FLAVOR; STABILIZERS (CAROB BEAN AND/OR GUAR GUMS); AUTOLYZED YEAST EXTRACT; VEGETABLE JUICE AND TURMERIC (FOR COLOR); SORBIC ACID (TO MAINTAIN FRESHNESS).\",\"image\":\"https://www.edamam.com/food-img/e99/e99c1c9a388398eda590357695929683.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\",\"label\":\"Tablespoon\"}]},{\"food\":{\"foodId\":\"food_asi8z8abh3h711bezmwjfbftzxvb\",\"label\":\"Farmhouse White Cheddar Pasta Cheddar\",\"nutrients\":{\"ENERC_KCAL\":366.8492042756363,\"PROCNT\":14.109584779832165,\"FAT\":4.2328754339496495,\"CHOCDF\":67.72600694319439,\"FIBTG\":2.821916955966433},\"brand\":\"Farmhouse\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTA(DURUM WHEAT SEMOLINA); WHEY; SALT; SUGAR; BUTTERMILK; NONFAT MILK; CORN STARCH; CHEDDAR CHEESE(CULTURED MILK; SALT; ENZYMES); CREAM; NATURAL FLAVOR; MALTODEXTRIN; YEAST EXTRACT; CITRIC ACID; DISODIUM PHOSPHATE; LACTIC ACID; CALCIUM LACTATE; CHICKEN FAT.\",\"image\":\"https://www.edamam.com/food-img/963/9633e24decdc42ed674fdc787623b492.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b3h8qbxa0dhdulauno2yaab7l5vh\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":411.5295397257234,\"PROCNT\":29.394967123265957,\"FAT\":35.273960547919145,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"HoneyBaked Ham\",\"category\":\"Fast foods\",\"categoryLabel\":\"meal\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]}],\"_links\":{\"next\":{\"title\":\"Next page\",\"href\":\"https://api.edamam.com/api/food-database/parser?session=44&app_id=5c8fcc57&app_key=8f2e80cbb28dfcb8ed8b9411d42426eb&ingr=cheddar\"}}}");
        lenient().when(foodApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("{\"uri\":\"http://www.edamam" +
                ".com/ontologies/edamam.owl#9f31eef6-10f2-42ce-9c77-d536956be15e\",\"calories\":113,\"totalWeight\":28,\"dietLabels\":[],\"healthLabels\":[\"KETO_FRIENDLY\",\"VEGETARIAN\",\"PESCATARIAN\",\"SPECIFIC_CARBS\",\"GLUTEN_FREE\",\"WHEAT_FREE\",\"EGG_FREE\",\"PEANUT_FREE\",\"TREE_NUT_FREE\",\"SOY_FREE\",\"FISH_FREE\",\"SHELLFISH_FREE\",\"PORK_FREE\",\"RED_MEAT_FREE\",\"CRUSTACEAN_FREE\",\"CELERY_FREE\",\"MUSTARD_FREE\",\"SESAME_FREE\",\"LUPINE_FREE\",\"MOLLUSK_FREE\",\"ALCOHOL_FREE\",\"NO_OIL_ADDED\",\"NO_SUGAR_ADDED\",\"KOSHER\"],\"cautions\":[\"SULFITES\"],\"totalNutrients\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":113.68,\"unit\":\"kcal\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":9.469600000000002,\"unit\":\"g\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":5.42304,\"unit\":\"g\"},\"FATRN\":{\"label\":\"Trans\",\"quantity\":0.33012,\"unit\":\"g\"},\"FAMS\":{\"label\":\"Monounsaturated\",\"quantity\":2.3598400000000006,\"unit\":\"g\"},\"FAPU\":{\"label\":\"Polyunsaturated\",\"quantity\":0.40124000000000004,\"unit\":\"g\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.37240000000000006,\"unit\":\"g\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"g\"},\"SUGAR\":{\"label\":\"Sugars\",\"quantity\":0.07840000000000001,\"unit\":\"g\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":6.7312,\"unit\":\"g\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":28.560000000000002,\"unit\":\"mg\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":180.32000000000002,\"unit\":\"mg\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":189.00000000000003,\"unit\":\"mg\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":7.5600000000000005,\"unit\":\"mg\"},\"K\":{\"label\":\"Potassium\",\"quantity\":21.28,\"unit\":\"mg\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.044800000000000006,\"unit\":\"mg\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":0.9604000000000001,\"unit\":\"mg\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":132.44000000000003,\"unit\":\"mg\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":73.64,\"unit\":\"µg\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"mg\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.007560000000000001,\"unit\":\"mg\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":0.12152000000000002,\"unit\":\"mg\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.010920000000000001,\"unit\":\"mg\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":0.013720000000000001,\"unit\":\"mg\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLFD\":{\"label\":\"Folate (food)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLAC\":{\"label\":\"Folic acid\",\"quantity\":0,\"unit\":\"µg\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":0.24640000000000004,\"unit\":\"µg\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":0.168,\"unit\":\"µg\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":0.21840000000000004,\"unit\":\"mg\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.812,\"unit\":\"µg\"},\"WATER\":{\"label\":\"Water\",\"quantity\":10.388000000000002,\"unit\":\"g\"}},\"totalDaily\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":5.684,\"unit\":\"%\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":14.568615384615386,\"unit\":\"%\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":27.115200000000005,\"unit\":\"%\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.12413333333333336,\"unit\":\"%\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"%\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":13.4624,\"unit\":\"%\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":9.52,\"unit\":\"%\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":7.5133333333333345,\"unit\":\"%\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":18.900000000000002,\"unit\":\"%\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":1.8,\"unit\":\"%\"},\"K\":{\"label\":\"Potassium\",\"quantity\":0.45276595744680853,\"unit\":\"%\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.2488888888888889,\"unit\":\"%\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":8.730909090909092,\"unit\":\"%\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":18.92,\"unit\":\"%\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":8.182222222222222,\"unit\":\"%\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"%\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.6300000000000001,\"unit\":\"%\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":9.347692307692308,\"unit\":\"%\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.06825,\"unit\":\"%\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":1.0553846153846154,\"unit\":\"%\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":1.8200000000000003,\"unit\":\"%\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":10.26666666666667,\"unit\":\"%\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":1.12,\"unit\":\"%\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":1.4560000000000002,\"unit\":\"%\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.6766666666666666,\"unit\":\"%\"}},\"ingredients\":[{\"parsed\":[{\"quantity\":1,\"measure\":\"whole\",\"food\":\"cheddar cheese\",\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"weight\":28,\"retainedWeight\":28,\"servingsPerContainer\":7.071428571428571,\"measureURI\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"status\":\"OK\"}]}]}");
        FoodItemNutrientData nutrientData = model.getFoodItemNutrientData(model.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376"));
        foodItem = model.getFoodItemDataObjects(model.foodSearchRequest("cheddar")).get(0);
        foodNutrientDataQuery = new FoodItemNutrientSearchQuery(model, sb, foodItem);
        foodNutrientDataQuery.execute();
        lenient().when(db.fetchFoodItemMatchingNutrientDataFromSearch(anyString())).thenReturn(foodItem);
        lenient().when(db.fetchSearchedItemNutrientData(anyString())).thenReturn(nutrientData);
        fetchCachedFoodNutrientDataBySearchQuery = new FetchCachedFoodNutrientDataBySearchQuery(model, sb);
        fetchCachedFoodNutrientDataBySearchQuery.execute();
        assertEquals(foodItem, model.getFoodItems().get(0));
        assertEquals(1, model.getFoodItems().size());
    }

    @Test
    public void testUploadNutritionReportToImgurUsingFreshResults() {
        lenient().when(foodApi.foodSearchRequest("cheddar")).thenReturn("{\"text\":\"cheddar\",\"parsed\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"}}],\"hints\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar Cheese\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"White Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_ajpi0fwb4k3ts5byqqs5bbc26e50\",\"label\":\"Nonfat Cheddar\",\"nutrients\":{\"ENERC_KCAL\":157,\"PROCNT\":32.14,\"FAT\":0,\"CHOCDF\":7.14,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/af9/af9f273ec7947c369d59ba2a2605c308.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a2b3q33bnje4iual2pba2at89tzi\",\"label\":\"Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_abhon7xahil71obsn90uyaz0lpgz\",\"label\":\"Cheddar Cheese Crunchies, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":607,\"PROCNT\":3.569999933242798,\"FAT\":46.43000030517578,\"CHOCDF\":46.43000030517578,\"FIBTG\":0},\"brand\":\"Crunchies\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CORN MEAL; VEGETABLE OIL (CONTAINS ONE OR MORE OF THE FOLLOWING: CORN OIL; COTTONSEED OIL; CANOLA OIL; AND/OR SUNFLOWER OIL); WHEY; MALTODEXTRIN; CHEESE [SEMISOFT AND CHEDDAR (PASTEURIZED MILK; CHEESE CULTURE; SALT; ENZYMES)]; SALT; MILKFAT; WHEY PROTEIN CONCENTRATE; BUTTERMILK SOLIDS; NATURAL FLAVOR; SODIUM PHOSPHATE; LACTIC ACID; YELLOW 6; AUTOLYZED YEAST EXTRACT; YELLOW 5; DISODIUM INOSINATE; DISODIUM GUANYLATE; ARTIFICIAL FLAVOR.\",\"image\":\"https://www.edamam.com/food-img/b40/b4002f66dfca857b0f5ddbf651e06222.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_curl\",\"label\":\"Curl\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_amcrzhtbg40i7zblkm02ias4oy40\",\"label\":\"Sharp Cheddar\",\"nutrients\":{\"ENERC_KCAL\":410,\"PROCNT\":24.25,\"FAT\":33.82,\"CHOCDF\":2.13,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/c10/c104a43cc771440bb5a915f6ceed9be3.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\"}]},{\"food\":{\"foodId\":\"food_ak5zq1kbxhob25bsqpc1ta89eswy\",\"label\":\"Vegan Cheddar\",\"nutrients\":{\"ENERC_KCAL\":321.4286,\"PROCNT\":3.5713999999999997,\"FAT\":21.428600000000003,\"CHOCDF\":25,\"FIBTG\":3.5713999999999997},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_container\",\"label\":\"Container\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b8tsfjybuuhyo3b4kajqva9q12dz\",\"label\":\"Cheddar Biscuits\",\"nutrients\":{\"ENERC_KCAL\":298.34983105301063,\"PROCNT\":8.968740338943247,\"FAT\":16.146075631472215,\"CHOCDF\":29.42229600093984,\"FIBTG\":0.9979079010407335},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"flour; baking powder; sugar; cayenne; cheddar cheese; butter; buttermilk; salt\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bxgs4p6bqqemk5b7clr8paiw3r7x\",\"label\":\"Cheddar Cookies\",\"nutrients\":{\"ENERC_KCAL\":436.9131960455334,\"PROCNT\":11.629819028915474,\"FAT\":31.400016307913983,\"CHOCDF\":27.187488082040563,\"FIBTG\":0.9986399672326961},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"self-rising flour; butter; Cheddar cheese; red pepper; ice water; pecan\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bkjsxvdbsu1ygpa7c78csb4fj2fa\",\"label\":\"Cheddar Spread\",\"nutrients\":{\"ENERC_KCAL\":314.9830203565031,\"PROCNT\":9.03189951580022,\"FAT\":29.716015112125092,\"CHOCDF\":3.633335816964652,\"FIBTG\":0.41032712305724817},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cream cheese; cheddar cheese; mayonnaise; mustard; red bell pepper; sweet onion\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bjtguijb5n21e6bucljhxbfuo3wg\",\"label\":\"Cheddar Crackers\",\"nutrients\":{\"ENERC_KCAL\":395.57250286738537,\"PROCNT\":15.096259753870836,\"FAT\":27.36521651538581,\"CHOCDF\":22.167123391385584,\"FIBTG\":0.7713608338962956},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"sharp Cheddar; all-purpose flour; butter; kosher salt; salt; cayenne; ice water\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_asqzialbju6v6dazrmxvyalop7pa\",\"label\":\"Cheddar Bruschetta\",\"nutrients\":{\"ENERC_KCAL\":247.03607798222242,\"PROCNT\":8.439916340910788,\"FAT\":14.710408585016058,\"CHOCDF\":20.582613350596322,\"FIBTG\":1.3677962303612776},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"french bread; tomatoes; cheddar cheese; mayonnaise; parmesan cheese; dried oregano; dried basil; pepper\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_avl5oq8a3psd3wa3u9notbsicrml\",\"label\":\"Cheddar Chowder\",\"nutrients\":{\"ENERC_KCAL\":118.3694828226613,\"PROCNT\":5.665701714339422,\"FAT\":7.6329627718760555,\"CHOCDF\":6.8670086402665,\"FIBTG\":0.6967330144577208},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"water; potatoes; carrots; celery; onion; salt; pepper; ham; butter; flour; milk; Cheddar cheese\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ax0a73jbwqn9t7bkefta2bifggxa\",\"label\":\"Cheddar Gougères\",\"nutrients\":{\"ENERC_KCAL\":254.4115086338935,\"PROCNT\":8.37387622351497,\"FAT\":19.00069780891183,\"CHOCDF\":12.454606494987326,\"FIBTG\":0.4271856286048142},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"unsalted butter; water; kosher salt; all-purpose flour; eggs; Cheddar\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ai31vlga7lgcz2baorzfza1sdlq7\",\"label\":\"Cheddar Pennies\",\"nutrients\":{\"ENERC_KCAL\":465.88118544252757,\"PROCNT\":14.582087597068988,\"FAT\":36.132864984192395,\"CHOCDF\":21.006751314031238,\"FIBTG\":0.7257834871410384},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cheddar cheese; butter; pepper sauce; salt; fresh dill; all purpose flour\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_azs2essb6x57jjbegcwq0a9fwzpo\",\"label\":\"Cheddar Chicken\",\"nutrients\":{\"ENERC_KCAL\":255.1901908286257,\"PROCNT\":19.233596419203774,\"FAT\":15.219817348514665,\"CHOCDF\":9.5674704304335,\"FIBTG\":0.4170523864126416},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"crackers; sharp cheddar; garlic; Kosher salt; black pepper; boneless, skinless chicken breasts; unsalted butter\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a5vi7ruau8zqkibqub1kvbtiq0u8\",\"label\":\"Cheddar Soup\",\"nutrients\":{\"ENERC_KCAL\":88.74095081691797,\"PROCNT\":4.500792572676424,\"FAT\":5.173119283149567,\"CHOCDF\":6.034730474918935,\"FIBTG\":0.607117305097188},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"celery; carrots; Granny Smith apple; olive oil; chicken broth; baking potato; Cheddar; Worcestershire sauce\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bc2r38aab0ltnaa0gqzpfb61eqnq\",\"label\":\"Extra Sharp Cheddar Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":409,\"PROCNT\":27.270000457763672,\"FAT\":36.36000061035156,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"Extra\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CHEDDAR CHEESE (CULTURED PASTEURIZED MILK; SALT; ENZYMES; COLOR ADDED).\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b21zw8daqivlj6aujaurnayrtmme\",\"label\":\"Alouette Wasabi Cheddar Wasabi Cheddar\",\"nutrients\":{\"ENERC_KCAL\":304.3478260869565,\"PROCNT\":8.695652173913043,\"FAT\":30.43478260869565,\"CHOCDF\":4.3478260869565215,\"FIBTG\":0},\"brand\":\"Alouette\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTEURIZED MILK AND CREAM; CHEDDAR CHEESE (PASTEURIZED MILK; CULTURES; SALT; ENZYMES); CHEDDAR NATURAL FLAVOR; SALT; WASABI (JAPANESE HORSERADISH) NATURAL FLAVOR; STABILIZERS (CAROB BEAN AND/OR GUAR GUMS); AUTOLYZED YEAST EXTRACT; VEGETABLE JUICE AND TURMERIC (FOR COLOR); SORBIC ACID (TO MAINTAIN FRESHNESS).\",\"image\":\"https://www.edamam.com/food-img/e99/e99c1c9a388398eda590357695929683.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\",\"label\":\"Tablespoon\"}]},{\"food\":{\"foodId\":\"food_asi8z8abh3h711bezmwjfbftzxvb\",\"label\":\"Farmhouse White Cheddar Pasta Cheddar\",\"nutrients\":{\"ENERC_KCAL\":366.8492042756363,\"PROCNT\":14.109584779832165,\"FAT\":4.2328754339496495,\"CHOCDF\":67.72600694319439,\"FIBTG\":2.821916955966433},\"brand\":\"Farmhouse\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTA(DURUM WHEAT SEMOLINA); WHEY; SALT; SUGAR; BUTTERMILK; NONFAT MILK; CORN STARCH; CHEDDAR CHEESE(CULTURED MILK; SALT; ENZYMES); CREAM; NATURAL FLAVOR; MALTODEXTRIN; YEAST EXTRACT; CITRIC ACID; DISODIUM PHOSPHATE; LACTIC ACID; CALCIUM LACTATE; CHICKEN FAT.\",\"image\":\"https://www.edamam.com/food-img/963/9633e24decdc42ed674fdc787623b492.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b3h8qbxa0dhdulauno2yaab7l5vh\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":411.5295397257234,\"PROCNT\":29.394967123265957,\"FAT\":35.273960547919145,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"HoneyBaked Ham\",\"category\":\"Fast foods\",\"categoryLabel\":\"meal\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]}],\"_links\":{\"next\":{\"title\":\"Next page\",\"href\":\"https://api.edamam.com/api/food-database/parser?session=44&app_id=5c8fcc57&app_key=8f2e80cbb28dfcb8ed8b9411d42426eb&ingr=cheddar\"}}}");
        lenient().when(foodApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("{\"uri\":\"http://www.edamam" +
                ".com/ontologies/edamam.owl#9f31eef6-10f2-42ce-9c77-d536956be15e\",\"calories\":113,\"totalWeight\":28,\"dietLabels\":[],\"healthLabels\":[\"KETO_FRIENDLY\",\"VEGETARIAN\",\"PESCATARIAN\",\"SPECIFIC_CARBS\",\"GLUTEN_FREE\",\"WHEAT_FREE\",\"EGG_FREE\",\"PEANUT_FREE\",\"TREE_NUT_FREE\",\"SOY_FREE\",\"FISH_FREE\",\"SHELLFISH_FREE\",\"PORK_FREE\",\"RED_MEAT_FREE\",\"CRUSTACEAN_FREE\",\"CELERY_FREE\",\"MUSTARD_FREE\",\"SESAME_FREE\",\"LUPINE_FREE\",\"MOLLUSK_FREE\",\"ALCOHOL_FREE\",\"NO_OIL_ADDED\",\"NO_SUGAR_ADDED\",\"KOSHER\"],\"cautions\":[\"SULFITES\"],\"totalNutrients\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":113.68,\"unit\":\"kcal\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":9.469600000000002,\"unit\":\"g\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":5.42304,\"unit\":\"g\"},\"FATRN\":{\"label\":\"Trans\",\"quantity\":0.33012,\"unit\":\"g\"},\"FAMS\":{\"label\":\"Monounsaturated\",\"quantity\":2.3598400000000006,\"unit\":\"g\"},\"FAPU\":{\"label\":\"Polyunsaturated\",\"quantity\":0.40124000000000004,\"unit\":\"g\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.37240000000000006,\"unit\":\"g\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"g\"},\"SUGAR\":{\"label\":\"Sugars\",\"quantity\":0.07840000000000001,\"unit\":\"g\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":6.7312,\"unit\":\"g\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":28.560000000000002,\"unit\":\"mg\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":180.32000000000002,\"unit\":\"mg\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":189.00000000000003,\"unit\":\"mg\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":7.5600000000000005,\"unit\":\"mg\"},\"K\":{\"label\":\"Potassium\",\"quantity\":21.28,\"unit\":\"mg\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.044800000000000006,\"unit\":\"mg\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":0.9604000000000001,\"unit\":\"mg\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":132.44000000000003,\"unit\":\"mg\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":73.64,\"unit\":\"µg\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"mg\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.007560000000000001,\"unit\":\"mg\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":0.12152000000000002,\"unit\":\"mg\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.010920000000000001,\"unit\":\"mg\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":0.013720000000000001,\"unit\":\"mg\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLFD\":{\"label\":\"Folate (food)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLAC\":{\"label\":\"Folic acid\",\"quantity\":0,\"unit\":\"µg\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":0.24640000000000004,\"unit\":\"µg\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":0.168,\"unit\":\"µg\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":0.21840000000000004,\"unit\":\"mg\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.812,\"unit\":\"µg\"},\"WATER\":{\"label\":\"Water\",\"quantity\":10.388000000000002,\"unit\":\"g\"}},\"totalDaily\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":5.684,\"unit\":\"%\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":14.568615384615386,\"unit\":\"%\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":27.115200000000005,\"unit\":\"%\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.12413333333333336,\"unit\":\"%\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"%\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":13.4624,\"unit\":\"%\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":9.52,\"unit\":\"%\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":7.5133333333333345,\"unit\":\"%\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":18.900000000000002,\"unit\":\"%\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":1.8,\"unit\":\"%\"},\"K\":{\"label\":\"Potassium\",\"quantity\":0.45276595744680853,\"unit\":\"%\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.2488888888888889,\"unit\":\"%\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":8.730909090909092,\"unit\":\"%\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":18.92,\"unit\":\"%\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":8.182222222222222,\"unit\":\"%\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"%\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.6300000000000001,\"unit\":\"%\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":9.347692307692308,\"unit\":\"%\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.06825,\"unit\":\"%\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":1.0553846153846154,\"unit\":\"%\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":1.8200000000000003,\"unit\":\"%\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":10.26666666666667,\"unit\":\"%\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":1.12,\"unit\":\"%\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":1.4560000000000002,\"unit\":\"%\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.6766666666666666,\"unit\":\"%\"}},\"ingredients\":[{\"parsed\":[{\"quantity\":1,\"measure\":\"whole\",\"food\":\"cheddar cheese\",\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"weight\":28,\"retainedWeight\":28,\"servingsPerContainer\":7.071428571428571,\"measureURI\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"status\":\"OK\"}]}]}");
        foodItem.setMeasureUri("http://www.edamam.com/ontologies/edamam.owl#Measure_unit");
        foodItem.setFoodId("food_bhppgmha1u27voagb8eptbp9g376");
        foodNutrientDataQuery = new FoodItemNutrientSearchQuery(model, sb, foodItem);
        foodNutrientDataQuery.execute();

        FoodItemNutrientData nutrientData = model.getFoodItemNutrientData(model.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376"));
        String report = model.prepareNutritionReportData(nutrientData);
        assertEquals(report, sb.toString());

        sb.delete(0, sb.length());
        lenient().when(imgurApi.uploadNutritionReportToImgur(anyString())).thenReturn("https://i.imgur.com/z8ibd3u.png");
        uploadReportToImgurQuery = new UploadNutritionReportToImgurQuery(model, sb);
        uploadReportToImgurQuery.execute();
        assertEquals(sb.toString(), "https://i.imgur.com/z8ibd3u.png");
    }


    @Test
    public void testUploadNutritionReportToImgurUsingCachedResultsFromSearch() {
        lenient().when(foodApi.foodSearchRequest("cheddar")).thenReturn("{\"text\":\"cheddar\",\"parsed\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"}}],\"hints\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar Cheese\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"White Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_ajpi0fwb4k3ts5byqqs5bbc26e50\",\"label\":\"Nonfat Cheddar\",\"nutrients\":{\"ENERC_KCAL\":157,\"PROCNT\":32.14,\"FAT\":0,\"CHOCDF\":7.14,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/af9/af9f273ec7947c369d59ba2a2605c308.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a2b3q33bnje4iual2pba2at89tzi\",\"label\":\"Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_abhon7xahil71obsn90uyaz0lpgz\",\"label\":\"Cheddar Cheese Crunchies, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":607,\"PROCNT\":3.569999933242798,\"FAT\":46.43000030517578,\"CHOCDF\":46.43000030517578,\"FIBTG\":0},\"brand\":\"Crunchies\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CORN MEAL; VEGETABLE OIL (CONTAINS ONE OR MORE OF THE FOLLOWING: CORN OIL; COTTONSEED OIL; CANOLA OIL; AND/OR SUNFLOWER OIL); WHEY; MALTODEXTRIN; CHEESE [SEMISOFT AND CHEDDAR (PASTEURIZED MILK; CHEESE CULTURE; SALT; ENZYMES)]; SALT; MILKFAT; WHEY PROTEIN CONCENTRATE; BUTTERMILK SOLIDS; NATURAL FLAVOR; SODIUM PHOSPHATE; LACTIC ACID; YELLOW 6; AUTOLYZED YEAST EXTRACT; YELLOW 5; DISODIUM INOSINATE; DISODIUM GUANYLATE; ARTIFICIAL FLAVOR.\",\"image\":\"https://www.edamam.com/food-img/b40/b4002f66dfca857b0f5ddbf651e06222.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_curl\",\"label\":\"Curl\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_amcrzhtbg40i7zblkm02ias4oy40\",\"label\":\"Sharp Cheddar\",\"nutrients\":{\"ENERC_KCAL\":410,\"PROCNT\":24.25,\"FAT\":33.82,\"CHOCDF\":2.13,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/c10/c104a43cc771440bb5a915f6ceed9be3.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\"}]},{\"food\":{\"foodId\":\"food_ak5zq1kbxhob25bsqpc1ta89eswy\",\"label\":\"Vegan Cheddar\",\"nutrients\":{\"ENERC_KCAL\":321.4286,\"PROCNT\":3.5713999999999997,\"FAT\":21.428600000000003,\"CHOCDF\":25,\"FIBTG\":3.5713999999999997},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_container\",\"label\":\"Container\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b8tsfjybuuhyo3b4kajqva9q12dz\",\"label\":\"Cheddar Biscuits\",\"nutrients\":{\"ENERC_KCAL\":298.34983105301063,\"PROCNT\":8.968740338943247,\"FAT\":16.146075631472215,\"CHOCDF\":29.42229600093984,\"FIBTG\":0.9979079010407335},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"flour; baking powder; sugar; cayenne; cheddar cheese; butter; buttermilk; salt\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bxgs4p6bqqemk5b7clr8paiw3r7x\",\"label\":\"Cheddar Cookies\",\"nutrients\":{\"ENERC_KCAL\":436.9131960455334,\"PROCNT\":11.629819028915474,\"FAT\":31.400016307913983,\"CHOCDF\":27.187488082040563,\"FIBTG\":0.9986399672326961},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"self-rising flour; butter; Cheddar cheese; red pepper; ice water; pecan\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bkjsxvdbsu1ygpa7c78csb4fj2fa\",\"label\":\"Cheddar Spread\",\"nutrients\":{\"ENERC_KCAL\":314.9830203565031,\"PROCNT\":9.03189951580022,\"FAT\":29.716015112125092,\"CHOCDF\":3.633335816964652,\"FIBTG\":0.41032712305724817},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cream cheese; cheddar cheese; mayonnaise; mustard; red bell pepper; sweet onion\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bjtguijb5n21e6bucljhxbfuo3wg\",\"label\":\"Cheddar Crackers\",\"nutrients\":{\"ENERC_KCAL\":395.57250286738537,\"PROCNT\":15.096259753870836,\"FAT\":27.36521651538581,\"CHOCDF\":22.167123391385584,\"FIBTG\":0.7713608338962956},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"sharp Cheddar; all-purpose flour; butter; kosher salt; salt; cayenne; ice water\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_asqzialbju6v6dazrmxvyalop7pa\",\"label\":\"Cheddar Bruschetta\",\"nutrients\":{\"ENERC_KCAL\":247.03607798222242,\"PROCNT\":8.439916340910788,\"FAT\":14.710408585016058,\"CHOCDF\":20.582613350596322,\"FIBTG\":1.3677962303612776},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"french bread; tomatoes; cheddar cheese; mayonnaise; parmesan cheese; dried oregano; dried basil; pepper\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_avl5oq8a3psd3wa3u9notbsicrml\",\"label\":\"Cheddar Chowder\",\"nutrients\":{\"ENERC_KCAL\":118.3694828226613,\"PROCNT\":5.665701714339422,\"FAT\":7.6329627718760555,\"CHOCDF\":6.8670086402665,\"FIBTG\":0.6967330144577208},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"water; potatoes; carrots; celery; onion; salt; pepper; ham; butter; flour; milk; Cheddar cheese\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ax0a73jbwqn9t7bkefta2bifggxa\",\"label\":\"Cheddar Gougères\",\"nutrients\":{\"ENERC_KCAL\":254.4115086338935,\"PROCNT\":8.37387622351497,\"FAT\":19.00069780891183,\"CHOCDF\":12.454606494987326,\"FIBTG\":0.4271856286048142},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"unsalted butter; water; kosher salt; all-purpose flour; eggs; Cheddar\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ai31vlga7lgcz2baorzfza1sdlq7\",\"label\":\"Cheddar Pennies\",\"nutrients\":{\"ENERC_KCAL\":465.88118544252757,\"PROCNT\":14.582087597068988,\"FAT\":36.132864984192395,\"CHOCDF\":21.006751314031238,\"FIBTG\":0.7257834871410384},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cheddar cheese; butter; pepper sauce; salt; fresh dill; all purpose flour\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_azs2essb6x57jjbegcwq0a9fwzpo\",\"label\":\"Cheddar Chicken\",\"nutrients\":{\"ENERC_KCAL\":255.1901908286257,\"PROCNT\":19.233596419203774,\"FAT\":15.219817348514665,\"CHOCDF\":9.5674704304335,\"FIBTG\":0.4170523864126416},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"crackers; sharp cheddar; garlic; Kosher salt; black pepper; boneless, skinless chicken breasts; unsalted butter\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a5vi7ruau8zqkibqub1kvbtiq0u8\",\"label\":\"Cheddar Soup\",\"nutrients\":{\"ENERC_KCAL\":88.74095081691797,\"PROCNT\":4.500792572676424,\"FAT\":5.173119283149567,\"CHOCDF\":6.034730474918935,\"FIBTG\":0.607117305097188},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"celery; carrots; Granny Smith apple; olive oil; chicken broth; baking potato; Cheddar; Worcestershire sauce\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bc2r38aab0ltnaa0gqzpfb61eqnq\",\"label\":\"Extra Sharp Cheddar Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":409,\"PROCNT\":27.270000457763672,\"FAT\":36.36000061035156,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"Extra\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CHEDDAR CHEESE (CULTURED PASTEURIZED MILK; SALT; ENZYMES; COLOR ADDED).\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b21zw8daqivlj6aujaurnayrtmme\",\"label\":\"Alouette Wasabi Cheddar Wasabi Cheddar\",\"nutrients\":{\"ENERC_KCAL\":304.3478260869565,\"PROCNT\":8.695652173913043,\"FAT\":30.43478260869565,\"CHOCDF\":4.3478260869565215,\"FIBTG\":0},\"brand\":\"Alouette\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTEURIZED MILK AND CREAM; CHEDDAR CHEESE (PASTEURIZED MILK; CULTURES; SALT; ENZYMES); CHEDDAR NATURAL FLAVOR; SALT; WASABI (JAPANESE HORSERADISH) NATURAL FLAVOR; STABILIZERS (CAROB BEAN AND/OR GUAR GUMS); AUTOLYZED YEAST EXTRACT; VEGETABLE JUICE AND TURMERIC (FOR COLOR); SORBIC ACID (TO MAINTAIN FRESHNESS).\",\"image\":\"https://www.edamam.com/food-img/e99/e99c1c9a388398eda590357695929683.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\",\"label\":\"Tablespoon\"}]},{\"food\":{\"foodId\":\"food_asi8z8abh3h711bezmwjfbftzxvb\",\"label\":\"Farmhouse White Cheddar Pasta Cheddar\",\"nutrients\":{\"ENERC_KCAL\":366.8492042756363,\"PROCNT\":14.109584779832165,\"FAT\":4.2328754339496495,\"CHOCDF\":67.72600694319439,\"FIBTG\":2.821916955966433},\"brand\":\"Farmhouse\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTA(DURUM WHEAT SEMOLINA); WHEY; SALT; SUGAR; BUTTERMILK; NONFAT MILK; CORN STARCH; CHEDDAR CHEESE(CULTURED MILK; SALT; ENZYMES); CREAM; NATURAL FLAVOR; MALTODEXTRIN; YEAST EXTRACT; CITRIC ACID; DISODIUM PHOSPHATE; LACTIC ACID; CALCIUM LACTATE; CHICKEN FAT.\",\"image\":\"https://www.edamam.com/food-img/963/9633e24decdc42ed674fdc787623b492.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b3h8qbxa0dhdulauno2yaab7l5vh\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":411.5295397257234,\"PROCNT\":29.394967123265957,\"FAT\":35.273960547919145,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"HoneyBaked Ham\",\"category\":\"Fast foods\",\"categoryLabel\":\"meal\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]}],\"_links\":{\"next\":{\"title\":\"Next page\",\"href\":\"https://api.edamam.com/api/food-database/parser?session=44&app_id=5c8fcc57&app_key=8f2e80cbb28dfcb8ed8b9411d42426eb&ingr=cheddar\"}}}");
        lenient().when(foodApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("{\"uri\":\"http://www.edamam" +
                ".com/ontologies/edamam.owl#9f31eef6-10f2-42ce-9c77-d536956be15e\",\"calories\":113,\"totalWeight\":28,\"dietLabels\":[],\"healthLabels\":[\"KETO_FRIENDLY\",\"VEGETARIAN\",\"PESCATARIAN\",\"SPECIFIC_CARBS\",\"GLUTEN_FREE\",\"WHEAT_FREE\",\"EGG_FREE\",\"PEANUT_FREE\",\"TREE_NUT_FREE\",\"SOY_FREE\",\"FISH_FREE\",\"SHELLFISH_FREE\",\"PORK_FREE\",\"RED_MEAT_FREE\",\"CRUSTACEAN_FREE\",\"CELERY_FREE\",\"MUSTARD_FREE\",\"SESAME_FREE\",\"LUPINE_FREE\",\"MOLLUSK_FREE\",\"ALCOHOL_FREE\",\"NO_OIL_ADDED\",\"NO_SUGAR_ADDED\",\"KOSHER\"],\"cautions\":[\"SULFITES\"],\"totalNutrients\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":113.68,\"unit\":\"kcal\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":9.469600000000002,\"unit\":\"g\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":5.42304,\"unit\":\"g\"},\"FATRN\":{\"label\":\"Trans\",\"quantity\":0.33012,\"unit\":\"g\"},\"FAMS\":{\"label\":\"Monounsaturated\",\"quantity\":2.3598400000000006,\"unit\":\"g\"},\"FAPU\":{\"label\":\"Polyunsaturated\",\"quantity\":0.40124000000000004,\"unit\":\"g\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.37240000000000006,\"unit\":\"g\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"g\"},\"SUGAR\":{\"label\":\"Sugars\",\"quantity\":0.07840000000000001,\"unit\":\"g\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":6.7312,\"unit\":\"g\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":28.560000000000002,\"unit\":\"mg\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":180.32000000000002,\"unit\":\"mg\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":189.00000000000003,\"unit\":\"mg\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":7.5600000000000005,\"unit\":\"mg\"},\"K\":{\"label\":\"Potassium\",\"quantity\":21.28,\"unit\":\"mg\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.044800000000000006,\"unit\":\"mg\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":0.9604000000000001,\"unit\":\"mg\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":132.44000000000003,\"unit\":\"mg\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":73.64,\"unit\":\"µg\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"mg\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.007560000000000001,\"unit\":\"mg\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":0.12152000000000002,\"unit\":\"mg\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.010920000000000001,\"unit\":\"mg\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":0.013720000000000001,\"unit\":\"mg\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLFD\":{\"label\":\"Folate (food)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLAC\":{\"label\":\"Folic acid\",\"quantity\":0,\"unit\":\"µg\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":0.24640000000000004,\"unit\":\"µg\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":0.168,\"unit\":\"µg\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":0.21840000000000004,\"unit\":\"mg\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.812,\"unit\":\"µg\"},\"WATER\":{\"label\":\"Water\",\"quantity\":10.388000000000002,\"unit\":\"g\"}},\"totalDaily\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":5.684,\"unit\":\"%\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":14.568615384615386,\"unit\":\"%\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":27.115200000000005,\"unit\":\"%\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.12413333333333336,\"unit\":\"%\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"%\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":13.4624,\"unit\":\"%\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":9.52,\"unit\":\"%\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":7.5133333333333345,\"unit\":\"%\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":18.900000000000002,\"unit\":\"%\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":1.8,\"unit\":\"%\"},\"K\":{\"label\":\"Potassium\",\"quantity\":0.45276595744680853,\"unit\":\"%\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.2488888888888889,\"unit\":\"%\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":8.730909090909092,\"unit\":\"%\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":18.92,\"unit\":\"%\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":8.182222222222222,\"unit\":\"%\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"%\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.6300000000000001,\"unit\":\"%\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":9.347692307692308,\"unit\":\"%\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.06825,\"unit\":\"%\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":1.0553846153846154,\"unit\":\"%\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":1.8200000000000003,\"unit\":\"%\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":10.26666666666667,\"unit\":\"%\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":1.12,\"unit\":\"%\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":1.4560000000000002,\"unit\":\"%\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.6766666666666666,\"unit\":\"%\"}},\"ingredients\":[{\"parsed\":[{\"quantity\":1,\"measure\":\"whole\",\"food\":\"cheddar cheese\",\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"weight\":28,\"retainedWeight\":28,\"servingsPerContainer\":7.071428571428571,\"measureURI\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"status\":\"OK\"}]}]}");
        FoodItemNutrientData nutrientData = model.getFoodItemNutrientData(model.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376"));
        lenient().when(db.fetchFoodItemMatchingNutrientDataFromSearch(anyString())).thenReturn(new FoodItemDataImpl());
        lenient().when(db.fetchSearchedItemNutrientData("cheddar")).thenReturn(nutrientData);

        sb.append("cheddar");
        fetchCachedFoodNutrientDataBySearchQuery = new FetchCachedFoodNutrientDataBySearchQuery(model, sb);
        fetchCachedFoodNutrientDataBySearchQuery.execute();
        String report = model.prepareNutritionReportData(nutrientData);
        assertEquals(report, sb.toString());
        sb.delete(0, sb.length());
        lenient().when(imgurApi.uploadNutritionReportToImgur(anyString())).thenReturn("https://i.imgur.com/z8ibd3u.png");
        uploadReportToImgurQuery = new UploadNutritionReportToImgurQuery(model, sb);
        uploadReportToImgurQuery.execute();
        assertEquals(sb.toString(), "https://i.imgur.com/z8ibd3u.png");
    }

    @Test
    public void testUploadNutritionReportToImgurUsingCachedResultsFromSelection() {
        lenient().when(foodApi.foodSearchRequest("cheddar")).thenReturn("{\"text\":\"cheddar\",\"parsed\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"}}],\"hints\":[{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"Cheddar Cheese\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"label\":\"White Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_ajpi0fwb4k3ts5byqqs5bbc26e50\",\"label\":\"Nonfat Cheddar\",\"nutrients\":{\"ENERC_KCAL\":157,\"PROCNT\":32.14,\"FAT\":0,\"CHOCDF\":7.14,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/af9/af9f273ec7947c369d59ba2a2605c308.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a2b3q33bnje4iual2pba2at89tzi\",\"label\":\"Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":406,\"PROCNT\":24.04,\"FAT\":33.82,\"CHOCDF\":1.33,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\",\"qualified\":[[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_diced\",\"label\":\"diced\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_shredded\",\"label\":\"shredded\"}],[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Qualifier_melted\",\"label\":\"melted\"}]]},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_block\",\"label\":\"Block\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_piece\",\"label\":\"Piece\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_chip\",\"label\":\"Chip\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cubic_inch\",\"label\":\"Cubic inch\"}]},{\"food\":{\"foodId\":\"food_abhon7xahil71obsn90uyaz0lpgz\",\"label\":\"Cheddar Cheese Crunchies, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":607,\"PROCNT\":3.569999933242798,\"FAT\":46.43000030517578,\"CHOCDF\":46.43000030517578,\"FIBTG\":0},\"brand\":\"Crunchies\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CORN MEAL; VEGETABLE OIL (CONTAINS ONE OR MORE OF THE FOLLOWING: CORN OIL; COTTONSEED OIL; CANOLA OIL; AND/OR SUNFLOWER OIL); WHEY; MALTODEXTRIN; CHEESE [SEMISOFT AND CHEDDAR (PASTEURIZED MILK; CHEESE CULTURE; SALT; ENZYMES)]; SALT; MILKFAT; WHEY PROTEIN CONCENTRATE; BUTTERMILK SOLIDS; NATURAL FLAVOR; SODIUM PHOSPHATE; LACTIC ACID; YELLOW 6; AUTOLYZED YEAST EXTRACT; YELLOW 5; DISODIUM INOSINATE; DISODIUM GUANYLATE; ARTIFICIAL FLAVOR.\",\"image\":\"https://www.edamam.com/food-img/b40/b4002f66dfca857b0f5ddbf651e06222.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_curl\",\"label\":\"Curl\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_amcrzhtbg40i7zblkm02ias4oy40\",\"label\":\"Sharp Cheddar\",\"nutrients\":{\"ENERC_KCAL\":410,\"PROCNT\":24.25,\"FAT\":33.82,\"CHOCDF\":2.13,\"FIBTG\":0},\"category\":\"Generic foods\",\"categoryLabel\":\"food\",\"image\":\"https://www.edamam.com/food-img/c10/c104a43cc771440bb5a915f6ceed9be3.jpg\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\",\"label\":\"Cup\"}]},{\"food\":{\"foodId\":\"food_ak5zq1kbxhob25bsqpc1ta89eswy\",\"label\":\"Vegan Cheddar\",\"nutrients\":{\"ENERC_KCAL\":321.4286,\"PROCNT\":3.5713999999999997,\"FAT\":21.428600000000003,\"CHOCDF\":25,\"FIBTG\":3.5713999999999997},\"category\":\"Generic foods\",\"categoryLabel\":\"food\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_container\",\"label\":\"Container\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b8tsfjybuuhyo3b4kajqva9q12dz\",\"label\":\"Cheddar Biscuits\",\"nutrients\":{\"ENERC_KCAL\":298.34983105301063,\"PROCNT\":8.968740338943247,\"FAT\":16.146075631472215,\"CHOCDF\":29.42229600093984,\"FIBTG\":0.9979079010407335},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"flour; baking powder; sugar; cayenne; cheddar cheese; butter; buttermilk; salt\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bxgs4p6bqqemk5b7clr8paiw3r7x\",\"label\":\"Cheddar Cookies\",\"nutrients\":{\"ENERC_KCAL\":436.9131960455334,\"PROCNT\":11.629819028915474,\"FAT\":31.400016307913983,\"CHOCDF\":27.187488082040563,\"FIBTG\":0.9986399672326961},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"self-rising flour; butter; Cheddar cheese; red pepper; ice water; pecan\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bkjsxvdbsu1ygpa7c78csb4fj2fa\",\"label\":\"Cheddar Spread\",\"nutrients\":{\"ENERC_KCAL\":314.9830203565031,\"PROCNT\":9.03189951580022,\"FAT\":29.716015112125092,\"CHOCDF\":3.633335816964652,\"FIBTG\":0.41032712305724817},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cream cheese; cheddar cheese; mayonnaise; mustard; red bell pepper; sweet onion\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bjtguijb5n21e6bucljhxbfuo3wg\",\"label\":\"Cheddar Crackers\",\"nutrients\":{\"ENERC_KCAL\":395.57250286738537,\"PROCNT\":15.096259753870836,\"FAT\":27.36521651538581,\"CHOCDF\":22.167123391385584,\"FIBTG\":0.7713608338962956},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"sharp Cheddar; all-purpose flour; butter; kosher salt; salt; cayenne; ice water\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_asqzialbju6v6dazrmxvyalop7pa\",\"label\":\"Cheddar Bruschetta\",\"nutrients\":{\"ENERC_KCAL\":247.03607798222242,\"PROCNT\":8.439916340910788,\"FAT\":14.710408585016058,\"CHOCDF\":20.582613350596322,\"FIBTG\":1.3677962303612776},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"french bread; tomatoes; cheddar cheese; mayonnaise; parmesan cheese; dried oregano; dried basil; pepper\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_avl5oq8a3psd3wa3u9notbsicrml\",\"label\":\"Cheddar Chowder\",\"nutrients\":{\"ENERC_KCAL\":118.3694828226613,\"PROCNT\":5.665701714339422,\"FAT\":7.6329627718760555,\"CHOCDF\":6.8670086402665,\"FIBTG\":0.6967330144577208},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"water; potatoes; carrots; celery; onion; salt; pepper; ham; butter; flour; milk; Cheddar cheese\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ax0a73jbwqn9t7bkefta2bifggxa\",\"label\":\"Cheddar Gougères\",\"nutrients\":{\"ENERC_KCAL\":254.4115086338935,\"PROCNT\":8.37387622351497,\"FAT\":19.00069780891183,\"CHOCDF\":12.454606494987326,\"FIBTG\":0.4271856286048142},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"unsalted butter; water; kosher salt; all-purpose flour; eggs; Cheddar\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_ai31vlga7lgcz2baorzfza1sdlq7\",\"label\":\"Cheddar Pennies\",\"nutrients\":{\"ENERC_KCAL\":465.88118544252757,\"PROCNT\":14.582087597068988,\"FAT\":36.132864984192395,\"CHOCDF\":21.006751314031238,\"FIBTG\":0.7257834871410384},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"cheddar cheese; butter; pepper sauce; salt; fresh dill; all purpose flour\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_azs2essb6x57jjbegcwq0a9fwzpo\",\"label\":\"Cheddar Chicken\",\"nutrients\":{\"ENERC_KCAL\":255.1901908286257,\"PROCNT\":19.233596419203774,\"FAT\":15.219817348514665,\"CHOCDF\":9.5674704304335,\"FIBTG\":0.4170523864126416},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"crackers; sharp cheddar; garlic; Kosher salt; black pepper; boneless, skinless chicken breasts; unsalted butter\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_a5vi7ruau8zqkibqub1kvbtiq0u8\",\"label\":\"Cheddar Soup\",\"nutrients\":{\"ENERC_KCAL\":88.74095081691797,\"PROCNT\":4.500792572676424,\"FAT\":5.173119283149567,\"CHOCDF\":6.034730474918935,\"FIBTG\":0.607117305097188},\"category\":\"Generic meals\",\"categoryLabel\":\"meal\",\"foodContentsLabel\":\"celery; carrots; Granny Smith apple; olive oil; chicken broth; baking potato; Cheddar; Worcestershire sauce\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"label\":\"Whole\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_bc2r38aab0ltnaa0gqzpfb61eqnq\",\"label\":\"Extra Sharp Cheddar Cheese, Cheddar\",\"nutrients\":{\"ENERC_KCAL\":409,\"PROCNT\":27.270000457763672,\"FAT\":36.36000061035156,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"Extra\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"CHEDDAR CHEESE (CULTURED PASTEURIZED MILK; SALT; ENZYMES; COLOR ADDED).\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_slice\",\"label\":\"Slice\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b21zw8daqivlj6aujaurnayrtmme\",\"label\":\"Alouette Wasabi Cheddar Wasabi Cheddar\",\"nutrients\":{\"ENERC_KCAL\":304.3478260869565,\"PROCNT\":8.695652173913043,\"FAT\":30.43478260869565,\"CHOCDF\":4.3478260869565215,\"FIBTG\":0},\"brand\":\"Alouette\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTEURIZED MILK AND CREAM; CHEDDAR CHEESE (PASTEURIZED MILK; CULTURES; SALT; ENZYMES); CHEDDAR NATURAL FLAVOR; SALT; WASABI (JAPANESE HORSERADISH) NATURAL FLAVOR; STABILIZERS (CAROB BEAN AND/OR GUAR GUMS); AUTOLYZED YEAST EXTRACT; VEGETABLE JUICE AND TURMERIC (FOR COLOR); SORBIC ACID (TO MAINTAIN FRESHNESS).\",\"image\":\"https://www.edamam.com/food-img/e99/e99c1c9a388398eda590357695929683.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\",\"label\":\"Tablespoon\"}]},{\"food\":{\"foodId\":\"food_asi8z8abh3h711bezmwjfbftzxvb\",\"label\":\"Farmhouse White Cheddar Pasta Cheddar\",\"nutrients\":{\"ENERC_KCAL\":366.8492042756363,\"PROCNT\":14.109584779832165,\"FAT\":4.2328754339496495,\"CHOCDF\":67.72600694319439,\"FIBTG\":2.821916955966433},\"brand\":\"Farmhouse\",\"category\":\"Packaged foods\",\"categoryLabel\":\"food\",\"foodContentsLabel\":\"PASTA(DURUM WHEAT SEMOLINA); WHEY; SALT; SUGAR; BUTTERMILK; NONFAT MILK; CORN STARCH; CHEDDAR CHEESE(CULTURED MILK; SALT; ENZYMES); CREAM; NATURAL FLAVOR; MALTODEXTRIN; YEAST EXTRACT; CITRIC ACID; DISODIUM PHOSPHATE; LACTIC ACID; CALCIUM LACTATE; CHICKEN FAT.\",\"image\":\"https://www.edamam.com/food-img/963/9633e24decdc42ed674fdc787623b492.png\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_serving\",\"label\":\"Serving\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_package\",\"label\":\"Package\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]},{\"food\":{\"foodId\":\"food_b3h8qbxa0dhdulauno2yaab7l5vh\",\"label\":\"Cheddar\",\"nutrients\":{\"ENERC_KCAL\":411.5295397257234,\"PROCNT\":29.394967123265957,\"FAT\":35.273960547919145,\"CHOCDF\":0,\"FIBTG\":0},\"brand\":\"HoneyBaked Ham\",\"category\":\"Fast foods\",\"categoryLabel\":\"meal\"},\"measures\":[{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\",\"label\":\"Gram\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_ounce\",\"label\":\"Ounce\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_pound\",\"label\":\"Pound\"},{\"uri\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\",\"label\":\"Kilogram\"}]}],\"_links\":{\"next\":{\"title\":\"Next page\",\"href\":\"https://api.edamam.com/api/food-database/parser?session=44&app_id=5c8fcc57&app_key=8f2e80cbb28dfcb8ed8b9411d42426eb&ingr=cheddar\"}}}");
        lenient().when(foodApi.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376")).thenReturn("{\"uri\":\"http://www.edamam" +
                ".com/ontologies/edamam.owl#9f31eef6-10f2-42ce-9c77-d536956be15e\",\"calories\":113,\"totalWeight\":28,\"dietLabels\":[],\"healthLabels\":[\"KETO_FRIENDLY\",\"VEGETARIAN\",\"PESCATARIAN\",\"SPECIFIC_CARBS\",\"GLUTEN_FREE\",\"WHEAT_FREE\",\"EGG_FREE\",\"PEANUT_FREE\",\"TREE_NUT_FREE\",\"SOY_FREE\",\"FISH_FREE\",\"SHELLFISH_FREE\",\"PORK_FREE\",\"RED_MEAT_FREE\",\"CRUSTACEAN_FREE\",\"CELERY_FREE\",\"MUSTARD_FREE\",\"SESAME_FREE\",\"LUPINE_FREE\",\"MOLLUSK_FREE\",\"ALCOHOL_FREE\",\"NO_OIL_ADDED\",\"NO_SUGAR_ADDED\",\"KOSHER\"],\"cautions\":[\"SULFITES\"],\"totalNutrients\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":113.68,\"unit\":\"kcal\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":9.469600000000002,\"unit\":\"g\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":5.42304,\"unit\":\"g\"},\"FATRN\":{\"label\":\"Trans\",\"quantity\":0.33012,\"unit\":\"g\"},\"FAMS\":{\"label\":\"Monounsaturated\",\"quantity\":2.3598400000000006,\"unit\":\"g\"},\"FAPU\":{\"label\":\"Polyunsaturated\",\"quantity\":0.40124000000000004,\"unit\":\"g\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.37240000000000006,\"unit\":\"g\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"g\"},\"SUGAR\":{\"label\":\"Sugars\",\"quantity\":0.07840000000000001,\"unit\":\"g\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":6.7312,\"unit\":\"g\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":28.560000000000002,\"unit\":\"mg\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":180.32000000000002,\"unit\":\"mg\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":189.00000000000003,\"unit\":\"mg\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":7.5600000000000005,\"unit\":\"mg\"},\"K\":{\"label\":\"Potassium\",\"quantity\":21.28,\"unit\":\"mg\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.044800000000000006,\"unit\":\"mg\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":0.9604000000000001,\"unit\":\"mg\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":132.44000000000003,\"unit\":\"mg\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":73.64,\"unit\":\"µg\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"mg\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.007560000000000001,\"unit\":\"mg\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":0.12152000000000002,\"unit\":\"mg\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.010920000000000001,\"unit\":\"mg\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":0.013720000000000001,\"unit\":\"mg\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLFD\":{\"label\":\"Folate (food)\",\"quantity\":7.280000000000001,\"unit\":\"µg\"},\"FOLAC\":{\"label\":\"Folic acid\",\"quantity\":0,\"unit\":\"µg\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":0.24640000000000004,\"unit\":\"µg\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":0.168,\"unit\":\"µg\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":0.21840000000000004,\"unit\":\"mg\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.812,\"unit\":\"µg\"},\"WATER\":{\"label\":\"Water\",\"quantity\":10.388000000000002,\"unit\":\"g\"}},\"totalDaily\":{\"ENERC_KCAL\":{\"label\":\"Energy\",\"quantity\":5.684,\"unit\":\"%\"},\"FAT\":{\"label\":\"Fat\",\"quantity\":14.568615384615386,\"unit\":\"%\"},\"FASAT\":{\"label\":\"Saturated\",\"quantity\":27.115200000000005,\"unit\":\"%\"},\"CHOCDF\":{\"label\":\"Carbs\",\"quantity\":0.12413333333333336,\"unit\":\"%\"},\"FIBTG\":{\"label\":\"Fiber\",\"quantity\":0,\"unit\":\"%\"},\"PROCNT\":{\"label\":\"Protein\",\"quantity\":13.4624,\"unit\":\"%\"},\"CHOLE\":{\"label\":\"Cholesterol\",\"quantity\":9.52,\"unit\":\"%\"},\"NA\":{\"label\":\"Sodium\",\"quantity\":7.5133333333333345,\"unit\":\"%\"},\"CA\":{\"label\":\"Calcium\",\"quantity\":18.900000000000002,\"unit\":\"%\"},\"MG\":{\"label\":\"Magnesium\",\"quantity\":1.8,\"unit\":\"%\"},\"K\":{\"label\":\"Potassium\",\"quantity\":0.45276595744680853,\"unit\":\"%\"},\"FE\":{\"label\":\"Iron\",\"quantity\":0.2488888888888889,\"unit\":\"%\"},\"ZN\":{\"label\":\"Zinc\",\"quantity\":8.730909090909092,\"unit\":\"%\"},\"P\":{\"label\":\"Phosphorus\",\"quantity\":18.92,\"unit\":\"%\"},\"VITA_RAE\":{\"label\":\"Vitamin A\",\"quantity\":8.182222222222222,\"unit\":\"%\"},\"VITC\":{\"label\":\"Vitamin C\",\"quantity\":0,\"unit\":\"%\"},\"THIA\":{\"label\":\"Thiamin (B1)\",\"quantity\":0.6300000000000001,\"unit\":\"%\"},\"RIBF\":{\"label\":\"Riboflavin (B2)\",\"quantity\":9.347692307692308,\"unit\":\"%\"},\"NIA\":{\"label\":\"Niacin (B3)\",\"quantity\":0.06825,\"unit\":\"%\"},\"VITB6A\":{\"label\":\"Vitamin B6\",\"quantity\":1.0553846153846154,\"unit\":\"%\"},\"FOLDFE\":{\"label\":\"Folate equivalent (total)\",\"quantity\":1.8200000000000003,\"unit\":\"%\"},\"VITB12\":{\"label\":\"Vitamin B12\",\"quantity\":10.26666666666667,\"unit\":\"%\"},\"VITD\":{\"label\":\"Vitamin D\",\"quantity\":1.12,\"unit\":\"%\"},\"TOCPHA\":{\"label\":\"Vitamin E\",\"quantity\":1.4560000000000002,\"unit\":\"%\"},\"VITK1\":{\"label\":\"Vitamin K\",\"quantity\":0.6766666666666666,\"unit\":\"%\"}},\"ingredients\":[{\"parsed\":[{\"quantity\":1,\"measure\":\"whole\",\"food\":\"cheddar cheese\",\"foodId\":\"food_bhppgmha1u27voagb8eptbp9g376\",\"weight\":28,\"retainedWeight\":28,\"servingsPerContainer\":7.071428571428571,\"measureURI\":\"http://www.edamam.com/ontologies/edamam.owl#Measure_unit\",\"status\":\"OK\"}]}]}");
        foodItem.setFoodLabel("cheddar cheese");
        foodItem.setFoodId("food_bhppgmha1u27voagb8eptbp9g376");
        FoodItemNutrientData nutrientData = model.getFoodItemNutrientData(model.foodNutritionSearchRequest("http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "food_bhppgmha1u27voagb8eptbp9g376"));
        lenient().when(db.fetchSelectedItemNutrientData("food_bhppgmha1u27voagb8eptbp9g376", "cheddar cheese")).thenReturn(nutrientData);
        fetchCachedFoodNutrientDataBySelectionQuery = new FetchCachedFoodNutrientDataBySelectionQuery(model, sb, foodItem);
        fetchCachedFoodNutrientDataBySelectionQuery.execute();

        String report = model.prepareNutritionReportData(nutrientData);
        assertEquals(report, sb.toString());
        sb.delete(0, sb.length());
        lenient().when(imgurApi.uploadNutritionReportToImgur(anyString())).thenReturn("https://i.imgur.com/z8ibd3u.png");
        uploadReportToImgurQuery = new UploadNutritionReportToImgurQuery(model, sb);
        uploadReportToImgurQuery.execute();
        assertEquals(sb.toString(), "https://i.imgur.com/z8ibd3u.png");
    }

    @Test
    public void testCheckingIfQueryIsCached() {
        lenient().when(db.checkUserQueryExistsForMatchingResults(anyString())).thenReturn(false);
        assertFalse(model.checkIfSearchQueryIsCachedForMatchingItems("foo"));
        lenient().when(db.checkUserQueryExistsForMatchingResults("bar")).thenReturn(true);
        model.cacheMatchingItemResults("bar", "");
        assertTrue(model.checkIfSearchQueryIsCachedForMatchingItems("bar"));
        assertFalse(model.checkIfSearchQueryIsCachedForMatchingItems("foo"));
    }

    @Test
    public void testCheckingIfSelectItemIsCached() {

        lenient().when(db.checkIfSelectedItemIsCached("foo", "bar")).thenReturn(false);
        assertFalse(model.checkIfSelectedItemIsCached("foo", "bar"));
        model.cacheSelectedItemNutrientData("test", "foo", "bar", "");
        lenient().when(db.checkIfSelectedItemIsCached("foo", "bar")).thenReturn(true);
        assertTrue(model.checkIfSelectedItemIsCached("foo", "bar"));

    }

    @Test
    public void testCheckIfUserQueryHasMatchingNutritionData() {
        lenient().when(db.checkUserQueryHasMatchingNutritionData("test")).thenReturn(false);
        assertFalse(model.checkIfUserQueryHasMatchingNutritionData("tests"));
        model.cacheSelectedItemNutrientData("test", "foo", "bar", "");
        lenient().when(db.checkUserQueryHasMatchingNutritionData("test")).thenReturn(true);
        assertTrue(model.checkIfUserQueryHasMatchingNutritionData("test"));
    }




}
